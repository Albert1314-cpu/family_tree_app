# ğŸ‰ ç»„ä»¶é›†æˆæ€»ç»“

## âœ… å·²å®Œæˆçš„é›†æˆ

### 1. **ä¾èµ–å®‰è£…** âœ…
æ‰€æœ‰æ¨èç»„ä»¶å·²æ·»åŠ åˆ° `pubspec.yaml` å¹¶æˆåŠŸå®‰è£…ï¼š
- graphview: ^1.2.0
- flutter_datetime_picker_plus: ^2.0.0
- table_calendar: ^3.0.9
- image_cropper: ^5.0.1
- cached_network_image: ^3.3.0
- pdf: ^3.10.7
- printing: ^5.14.2
- flutter_typeahead: ^4.8.0
- flutter_staggered_grid_view: ^0.7.0
- timeline_tile: ^2.0.0
- flutter_slidable: ^3.0.0
- lottie: ^2.7.0
- shimmer: ^3.0.0
- local_auth: ^2.1.6
- encrypt: ^5.0.3
- url_launcher: ^6.2.2
- qr_flutter: ^4.1.0

### 2. **å·²é›†æˆçš„åŠŸèƒ½** âœ…

#### a) å›¾ç‰‡è£å‰ªåŠŸèƒ½
- **ä½ç½®**: `lib/screens/add_member_screen.dart`
- **åŠŸèƒ½**: åœ¨æ·»åŠ æˆå‘˜æ—¶ï¼Œé€‰æ‹©å›¾ç‰‡åè‡ªåŠ¨è¿›å…¥è£å‰ªç•Œé¢
- **ç‰¹ç‚¹**: 
  - æ”¯æŒ1:1æ¯”ä¾‹è£å‰ª
  - é€‚åˆå¤´åƒè£å‰ª
  - Androidå’ŒiOSéƒ½æ”¯æŒ

#### b) æ—¥æœŸé€‰æ‹©å™¨å¢å¼º
- **ä½ç½®**: `lib/screens/add_member_screen.dart`
- **åŠŸèƒ½**: ä½¿ç”¨æ›´ç¾è§‚çš„ä¸­æ–‡æ—¥æœŸé€‰æ‹©å™¨
- **ç‰¹ç‚¹**:
  - ä¸­æ–‡ç•Œé¢
  - æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
  - æ”¯æŒæœ€å°/æœ€å¤§æ—¥æœŸé™åˆ¶

#### c) æœç´¢åŠŸèƒ½
- **ä½ç½®**: `lib/screens/home_screen.dart`
- **åŠŸèƒ½**: æ™ºèƒ½æœç´¢å®¶æ—è°±
- **ç‰¹ç‚¹**:
  - å®æ—¶æœç´¢å»ºè®®
  - æ”¯æŒæŒ‰åç§°å’Œæè¿°æœç´¢
  - ç‚¹å‡»æœç´¢ç»“æœç›´æ¥è¿›å…¥è¯¦æƒ…é¡µ

#### d) PDFå¯¼å‡ºæœåŠ¡
- **ä½ç½®**: `lib/services/pdf_export_service.dart`
- **åŠŸèƒ½**: å¯¼å‡ºå®¶æ—è°±ä¸ºPDFæ–‡æ¡£
- **ç‰¹ç‚¹**:
  - åŒ…å«å°é¢é¡µ
  - æˆå‘˜åˆ—è¡¨è¡¨æ ¼
  - æ”¯æŒæ‰“å°å’Œåˆ†äº«

#### e) æœç´¢æœåŠ¡
- **ä½ç½®**: `lib/services/search_service.dart`
- **åŠŸèƒ½**: æä¾›æœç´¢åŠŸèƒ½çš„æ ¸å¿ƒé€»è¾‘
- **ç‰¹ç‚¹**:
  - æ”¯æŒæˆå‘˜æœç´¢ï¼ˆå§“åã€å‡ºç”Ÿåœ°ã€èŒä¸šã€å¤‡æ³¨ï¼‰
  - æ”¯æŒå®¶æ—è°±æœç´¢ï¼ˆåç§°ã€æè¿°ï¼‰

## ğŸ“ å¾…é›†æˆçš„åŠŸèƒ½ï¼ˆéœ€è¦è¿›ä¸€æ­¥å¼€å‘ï¼‰

### 1. **å®¶æ—æ ‘å¯è§†åŒ–å¢å¼º (graphview)**
- **æ–‡ä»¶**: `lib/screens/family_tree_visualization_screen.dart`
- **çŠ¶æ€**: éœ€è¦æ›¿æ¢ç°æœ‰çš„æ ‘å½¢å±•ç¤ºé€»è¾‘
- **å»ºè®®**: ä½¿ç”¨ graphview çš„å±‚æ¬¡å¸ƒå±€ç®—æ³•

### 2. **PDFå¯¼å‡ºUI**
- **ä½ç½®**: éœ€è¦åœ¨è¯¦æƒ…é¡µé¢æ·»åŠ "å¯¼å‡ºPDF"æŒ‰é’®
- **æ–‡ä»¶**: `lib/screens/family_tree_detail_screen.dart`
- **åŠŸèƒ½**: è°ƒç”¨ `PdfExportService.exportFamilyTreeToPdf()`

### 3. **å®¶æ—æ—¥å† (table_calendar)**
- **çŠ¶æ€**: éœ€è¦åˆ›å»ºæ–°é¡µé¢
- **å»ºè®®**: åˆ›å»º `lib/screens/family_calendar_screen.dart`
- **åŠŸèƒ½**: å±•ç¤ºæ‰€æœ‰æˆå‘˜çš„ç”Ÿæ—¥ã€å¿Œæ—¥ç­‰é‡è¦æ—¥æœŸ

### 4. **æ—¶é—´çº¿è§†å›¾ (timeline_tile)**
- **çŠ¶æ€**: éœ€è¦åˆ›å»ºæ–°é¡µé¢
- **å»ºè®®**: åˆ›å»º `lib/screens/family_timeline_screen.dart`
- **åŠŸèƒ½**: æŒ‰æ—¶é—´é¡ºåºå±•ç¤ºå®¶æ—é‡è¦äº‹ä»¶

### 5. **æ»‘åŠ¨æ“ä½œ (flutter_slidable)**
- **ä½ç½®**: æˆå‘˜åˆ—è¡¨
- **åŠŸèƒ½**: åœ¨åˆ—è¡¨é¡¹ä¸Šæ»‘åŠ¨æ˜¾ç¤ºåˆ é™¤/ç¼–è¾‘æŒ‰é’®

### 6. **ç…§ç‰‡å¢™ (flutter_staggered_grid_view)**
- **çŠ¶æ€**: éœ€è¦åˆ›å»ºæ–°é¡µé¢
- **å»ºè®®**: åˆ›å»º `lib/screens/family_photo_wall_screen.dart`
- **åŠŸèƒ½**: ç€‘å¸ƒæµå±•ç¤ºæ‰€æœ‰æˆå‘˜ç…§ç‰‡

### 7. **äºŒç»´ç åˆ†äº« (qr_flutter)**
- **ä½ç½®**: åˆ†äº«åŠŸèƒ½
- **åŠŸèƒ½**: ç”Ÿæˆå®¶æ—è°±åˆ†äº«äºŒç»´ç 

### 8. **ç”Ÿç‰©è¯†åˆ« (local_auth)**
- **ä½ç½®**: è®¾ç½®é¡µé¢
- **åŠŸèƒ½**: æ·»åŠ æŒ‡çº¹/é¢éƒ¨è¯†åˆ«è§£é”åŠŸèƒ½

### 9. **åŠ è½½åŠ¨ç”» (lottie, shimmer)**
- **ä½ç½®**: å„ä¸ªåŠ è½½çŠ¶æ€
- **åŠŸèƒ½**: æ›¿æ¢åŠ è½½æŒ‡ç¤ºå™¨ï¼Œä½¿ç”¨æ›´ç¾è§‚çš„åŠ¨ç”»

### 10. **URLå¯åŠ¨ (url_launcher)**
- **ä½ç½®**: æˆå‘˜è¯¦æƒ…é¡µ
- **åŠŸèƒ½**: æ·»åŠ æ‰“å¼€ç½‘é¡µã€å‘é€é‚®ä»¶ç­‰åŠŸèƒ½

## ğŸ”§ ä½¿ç”¨ç¤ºä¾‹

### ä½¿ç”¨å›¾ç‰‡è£å‰ª
```dart
final croppedFile = await ImageCropper().cropImage(
  sourcePath: image.path,
  aspectRatio: const CropAspectRatio(ratioX: 1, ratioY: 1),
  // ... é…ç½®
);
```

### ä½¿ç”¨æ—¥æœŸé€‰æ‹©å™¨
```dart
DatePicker.showDatePicker(
  context,
  showTitleActions: true,
  locale: LocaleType.zh,
  onConfirm: (date) {
    // å¤„ç†é€‰æ‹©çš„æ—¥æœŸ
  },
);
```

### ä½¿ç”¨æœç´¢æœåŠ¡
```dart
final results = SearchService.searchFamilyTrees(
  familyTrees: familyTrees,
  query: searchQuery,
);
```

### å¯¼å‡ºPDF
```dart
await PdfExportService.exportFamilyTreeToPdf(
  familyTree: familyTree,
  members: members,
  relationships: relationships,
);
```

## ğŸ“‹ ä¸‹ä¸€æ­¥å»ºè®®

1. **ä¼˜å…ˆå®Œæˆ**:
   - PDFå¯¼å‡ºUIé›†æˆ
   - å®¶æ—æ—¥å†åŠŸèƒ½
   - æ—¶é—´çº¿è§†å›¾

2. **æ¬¡è¦åŠŸèƒ½**:
   - æ»‘åŠ¨æ“ä½œ
   - ç…§ç‰‡å¢™
   - äºŒç»´ç åˆ†äº«

3. **å¢å¼ºä½“éªŒ**:
   - åŠ è½½åŠ¨ç”»
   - ç”Ÿç‰©è¯†åˆ«
   - URLå¯åŠ¨

## ğŸ› æ³¨æ„äº‹é¡¹

1. **å›¾ç‰‡è£å‰ª**: éœ€è¦ç¡®ä¿åœ¨Androidå’ŒiOSä¸Šéƒ½æœ‰ç›¸åº”æƒé™
2. **PDFå¯¼å‡º**: å¯èƒ½éœ€è¦å¤„ç†å¤§é‡æ•°æ®æ—¶çš„æ€§èƒ½é—®é¢˜
3. **æœç´¢åŠŸèƒ½**: å½“å‰æ˜¯å®¢æˆ·ç«¯æœç´¢ï¼Œå¦‚æœæ•°æ®é‡å¤§å¯è€ƒè™‘æœåŠ¡ç«¯æœç´¢
4. **æ—¥æœŸé€‰æ‹©å™¨**: å·²é…ç½®ä¸ºä¸­æ–‡ï¼Œå¦‚éœ€å…¶ä»–è¯­è¨€å¯ä¿®æ”¹ `LocaleType`

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ç»„ä»¶æ¨èæ–‡æ¡£](RECOMMENDED_COMPONENTS.md)
- [pub.dev æ–‡æ¡£](https://pub.dev/)

---

**é›†æˆçŠ¶æ€**: åŸºç¡€åŠŸèƒ½å·²é›†æˆ âœ…
**ä¸‹ä¸€æ­¥**: å®Œå–„UIé›†æˆå’Œæ·»åŠ æ–°åŠŸèƒ½é¡µé¢

